{% extends "base.html" %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">User  Profile</h2>
    <div class="card shadow-lg mb-4">
        <div class="card-body text-center">
            <div class="profile-header">
                <h4 class="mt-3">Hello Buddy!</h4> <!-- Greeting -->
                <p class="text-muted">Welcome back to your profile. Here‚Äôs what‚Äôs new!</p> <!-- Engaging welcome message -->
                <p class="text-muted">MUT ID: <strong>{{ mut_id }}</strong></p> <!-- Displaying MUT ID -->
                <p class="text-muted">Email: <strong>{{ email }}</strong></p> <!-- Displaying Email -->
            </div>
            <div class="progress mt-4">
                <div class="progress-bar" role="progressbar" style="width: 75%;" aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">Profile Completion: 75%</div>
            </div>
            <hr>
            <div class="button-group mt-4">
                <a href="/" class="btn btn-primary btn-lg">üè† Home</a>
                <a href="/edit_profile" class="btn btn-warning btn-lg">‚úèÔ∏è Edit Profile</a>
                <a href="/notifications" class="btn btn-secondary btn-lg">üì¶ My Print Orders</a>
                <a href="/notifications" class="btn btn-secondary btn-lg">üì¶ My Stationery Orders</a>
                <a href="/logout" class="btn btn-danger btn-lg">üö™ Logout</a>
            </div>
        </div>
    </div>

    <!-- Find the Man Game Feature Section -->
<div class="card mt-4 shadow-lg">
    <div class="card-body text-center">
        <h5 class="text-center">üë§ Find the Man Game!</h5>
        <p class="text-muted">Click on the man as fast as you can!</p>
        <div id="gameArea" style="position: relative; width: 100%; height: 400px; border: 2px dashed #007bff; overflow: hidden;">
            <span id="man" style="font-size: 50px; position: absolute; display: none;">üë§</span>
        </div>
        <p class="mt-3">Your Score: <strong id="score">0</strong></p>
        <button class="btn btn-success mt-3" onclick="startGame()">Start Game</button>
    </div>
</div>

<style>
    .card {
        border-radius: 10px; /* Rounded corners for cards */
    }
    .card-body {
        padding: 2rem; /* Increased padding for better spacing */
    }
    h5 {
        font-weight: 600; /* Bold headings */
    }
    .text-muted {
        margin: 0.5rem 0; /* Spacing for text */
    }
</style>

<script>
    let score = 0;
    let manVisible = false;
    let gameInterval;

    function startGame() {
        score = 0;
        document.getElementById('score').innerText = score;
        manVisible = true;
        moveMan();
        gameInterval = setInterval(moveMan, 1000); // Move the man every second
    }

    function moveMan() {
        const man = document.getElementById('man');
        const gameArea = document.getElementById('gameArea');

        // Hide the man if it's currently visible
        if (manVisible) {
            man.style.display = 'none';
        }

        // Generate random positions within the game area
        const x = Math.random() * (gameArea.clientWidth - 50); // 50 is the width of the emoji
        const y = Math.random() * (gameArea.clientHeight - 50); // 50 is the height of the emoji

        // Set the new position of the man
        man.style.left = `${x}px`;
        man.style.top = `${y}px`;
        man.style.display = 'block';

        // Show the man
        manVisible = true;
    }

    // Function to handle clicking on the man
    document.getElementById('man').onclick = function() {
        if (manVisible) {
            score++;
            document.getElementById('score').innerText = score;
            moveMan(); // Move the man again after a successful click
        }
    };
</script>
{% endblock %}